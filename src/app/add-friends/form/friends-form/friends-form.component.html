<div class="card_wrapper">
  <mat-card>
    <mat-card-subtitle>Add new row
      <button type="button" mat-button (click)="createFormGroupInstances()">
        <mat-icon>add_circle</mat-icon>
      </button>
    </mat-card-subtitle>

    <mat-card-content>
      <form [formGroup]="friendsForm">
        <div formArrayName="friendArray">
          <ng-container *ngFor="let friend of friendFormGroupArray.controls; let i = index;">
            <div class="row">
              <button type="button" class="remove_btn" mat-button  (click)="removeFormGroupInstance(i)">Remove row
                <mat-icon>remove_circle</mat-icon>
              </button><br>
              <app-friend-fields [formGroupName]="i" ></app-friend-fields>
            </div>
          </ng-container>
        </div>
      </form>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button (click)="submitForm()">Submit</button>
    </mat-card-actions>
  </mat-card>
</div>
